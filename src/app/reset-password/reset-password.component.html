<div fxLayout="column" layout-fill class="pattern-bg">
    <div class="mat-content" layout-padding fxFlex="100">
        <div>
            <div fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="center start" class="margin">
                <span class="logo-text">{{appTitle}}</span>
            </div>
        </div>
        <div fxLayout.gt-xs="row" fxLayoutAlign.gt-xs="center start" class="margin">
            <div fxFlex.gt-xs="50">
                <ng-template tdLoading="reset-password">
                    <mat-card tdMediaToggle="gt-xs" [mediaClasses]="['push-top-lg']">
                        <mat-card-title>
                            <mat-icon class="mat-icon-logo login-title-icon">lock_open</mat-icon>
                            <span class="title-text">Reset Password</span>
                        </mat-card-title>
                        <mat-card-subtitle>Please provide a new password for your account</mat-card-subtitle>
                        <mat-divider></mat-divider>
                        <mat-card-content>
                            <form #resetPasswordForm="ngForm" (ngSubmit)="submit()">
                                <div fxLayout="row">
                                    <mat-input-container fxFlex="100" class="input-lg">
                                        <input matInput #passwordControl="ngModel" placeholder="Password" type="password" name="password" [(ngModel)]="password" required>
                                        <span matPrefix><mat-icon>lock</mat-icon></span>
                                        <mat-hint align="start">
                                            <span [hidden]="!passwordControl.errors?.required || passwordControl.pristine" class="tc-red-600">Required</span>
                                        </mat-hint>
                                    </mat-input-container>
                                </div>
                                <div fxLayout="row">
                                    <mat-input-container fxFlex="100" class="input-lg">
                                        <input matInput #confirmPasswordControl="ngModel" placeholder="Confirm Password" type="password" name="confirmPassword" [(ngModel)]="confirmPassword" required>
                                        <span matPrefix><mat-icon>lock</mat-icon></span>
                                        <mat-hint align="start">
                                            <span [hidden]="!confirmPasswordControl.errors?.required || confirmPasswordControl.pristine" class="tc-red-600">Required</span>
                                        </mat-hint>
                                    </mat-input-container>
                                </div>
                                <button type="submit" hidden [disabled]="!resetPasswordForm.form.valid"></button>
                            </form>
                        </mat-card-content>
                        <mat-divider></mat-divider>
                        <mat-card-actions>
                            <div fxLayout="row">
                                <div fxFlex="100">
                                    <button mat-button [disabled]="loading" (click)="back()">RETURN TO LOGIN</button>
                                </div>
                                <div fxFlex="100" fxLayoutAlign="end">
                                    <button mat-raised-button color="accent" [disabled]="!resetPasswordForm.form.valid || loading" (click)="submit()">RESET PASSWORD</button>
                                </div>
                            </div>
                        </mat-card-actions>
                    </mat-card>
                </ng-template>
            </div>
        </div>
    </div>
</div>
